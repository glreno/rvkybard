         .TITLE      PM GRAPICS TEST
;
; All this thing does is boot up,
; create a few PM graphics,
; change the background color,
; and then JMP $E471.
;
;
;
         .PAGE       Addresses
BLKBDV   =   $E471
PMBASE   =   $D407
GRACTL   =   $D01D
SDMCTL   =   $022F
GPRIOR   =   $026F
HPOSP0   =   $D000
HPOSP1   =   $D001
HPOSP2   =   $D002
HPOSP3   =   $D003
HPOSM0   =   $D004
HPOSM1   =   $D005
HPOSM2   =   $D006
HPOSM3   =   $D007
SIZEP0   =   $D008
SIZEP1   =   $D009
SIZEP2   =   $D00A
SIZEP3   =   $D00B
SIZEM    =   $D00C
COLPM0   =   $02C0
COLPM1   =   $02C1
COLPM2   =   $02C2
COLPM3   =   $02C3
         .PAGE       Some handy macros
;
; @LC -- load a constant byte into an address
         .MACRO @LC
            LDA # %1
            STA %2
         .ENDM
;
         .PAGE       Cartridge Startup
         *=  $A000   ; 8K Cartridge
STARTUP
ENPM     @LC $B8,PMBASE
         @LC 3,GRACTL
         @LC $2E,SDMCTL    ; 2(norm playfield)+4(missiles)+8(players)+32(enable ANTIC)
         @LC 1,GPRIOR
; SET SIZES
         LDA #2
         STA SIZEP0
         STA SIZEP1
         STA SIZEP2
         STA SIZEP3
         @LC $55,SIZEM
; SET COLORS
         @LC $9C,COLPM0
         @LC $AC,COLPM1
         @LC $BC,COLPM2
         @LC $CC,COLPM3
         @LC $60,HPOSP0
         @LC $68,HPOSP1
         @LC $90,HPOSP3
         @LC $98,HPOSP2
         @LC $78,HPOSM0
         @LC $7C,HPOSM1
         @LC $80,HPOSM2
         @LC $84,HPOSM3
         JMP BLKBDV  ; start memopad
         .PAGE       PM Image data
         *=  $B800   ; START OF PM DATA
         *=  $B980   ; START OF MISSILES
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         *=  $BA00   ; START OF P0
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         *=  $BA80   ; START OF P1
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         *=  $BB00   ; START OF P2
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         *=  $BB80   ; START OF P3
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .BYTE "0123456789ABCDEF"
         .PAGE       Cartridge Trailer
         *=  $BFF9
CARTINI  RTS
         .WORD STARTUP
         .BYTE 0     ; just a zero
         .BYTE 4     ; boot opt - no disk
         .WORD CARTINI
         .END 
